<?xml version='1.0'?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" 
"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd"> 
<article id="index">

	<articleinfo>

    <title>EtherApe Manual</title>

    <copyright>
      <year>2001</year>
      <year>2002</year>
      <year>2003</year>
      <year>2004</year>
      <year>2005</year>
      <year>2006</year>
      <holder>Juan 
    Toledo</holder><holder>Riccardo Ghetta</holder></copyright>
<!--
 translators: uncomment this:

  <copyright>
   <year>2002</year>
   <holder>ME-THE-TRANSLATOR (Latin translation)</holder>
  </copyright>

   
-->
<revhistory>

	<revision>
<revnumber>Etherape Manual V0.2</revnumber>
<date>January 2006</date>

	<revdescription>

	<para role="author">
Riccardo Ghetta   	
<email>bchiara@users.sf.net</email>
</para>
</revdescription>
</revision>

	<revision>
<revnumber>Etherape Manual V0.1</revnumber>
<date>2001</date>

	<revdescription>

	<para role="author">
Juan Toledo
	    	
<email>toledo@users.sf.net</email>
</para>
</revdescription>
</revision>
</revhistory>
	

    <legalnotice id="legalnotice">

      <para>Permission is granted to copy, distribute and/or modify 
      this document under the terms of the <ulink url="gnome-help:fdl"
      type="help"><citetitle>GNU Free Documentation 
      License</citetitle></ulink>, Version 1.1 or any later version 
      published by the Free Software Foundation with no Invariant 
      Sections, no Front-Cover Texts, and no Back-Cover Texts. A copy 
      of the license can be found <ulink url="gnome-help:fdl"
      type="help">here</ulink>.</para>

      <para>Many of the names used by companies to distinguish their 
      products and services are claimed as trademarks. Where those 
      names appear in any GNOME documentation, and those trademarks are 
      made aware to the members of the GNOME Documentation Project, the 
      names have been printed in caps or initial caps.</para>

    </legalnotice>

    <releaseinfo>This is version 0.2 of EtherApe manual.</releaseinfo>

  </articleinfo>

  <sect1 id="etherape-introduction">

    <title>Introduction</title>

    <para><application>EtherApe</application> is a graphical network 
    monitor for Unix modeled after etherman. Featuring ether, ip and 
    tcp modes, it displays network activity graphically. Hosts and 
    links change in size with traffic. Protocols are color coded. It 
    supports ethernet, fddi, ppp and slip devices. It can filter 
    traffic to be shown, and can read traffic from a file as well as 
    live from the network.</para>

    <para><application>EtherApe</application> is also a tool for 
    gathering network statistics, and the data can be presented in a 
    number of different ways.</para>

    <para>To run <application>EtherApe</application>, select 
    <menuchoice><guisubmenu>Applications</guisubmenu>
    <guimenuitem>EtherApe</guimenuitem></menuchoice> from the <guimenu>
    Main Menu</guimenu>, or type <command>etherape</command> on the 
    command line.</para>

  </sect1>

  <sect1 id="etherape-usage">

    <title>Using EtherApe</title>

    <para><application>EtherApe</application> can be used to have an 
    overview of traffic conditions in your network. It is a great tool 
    to easily pinpoint who is consuming the most bandwith, or to check 
    which computers are actually talking to some others.</para>

    <sect2 id="quickstart">

      <title>Quick Start</title>

      <para>Most of the time you will want to run <application>
      EtherApe</application> with root permissions in order to monitor 
      a live network. If you are not the administrator of the machine 
      running <application>EtherApe</application> , you will ony be 
      able to analyze previously generated capture files, generated by 
      someone else.</para>

      <para>

        Starting 
        <application>EtherApe</application>
         opens the 
        <interface>Main window</interface>
        , shown in 
        <xref linkend="mainwindow-fig"/>.
</para>

      <para>By default, <application>EtherApe</application> will try to 
      open the default network interface for capture in IP mode, and 
      will display a diagram of network traffic right away.</para>

      <para>Every computer currently taking part in a conversation in 
      the network will be represented as a circle (a node) in the 
      diagram, with its name displayed on top of it. The fact that two 
      computers are communicating with each other is represented with a 
      line between those two nodes (a link).</para>

      <para>You will notice that both nodes and links vary with time in 
      color and size. Size is used to represent the amount of traffic: 
      The bigger a node is, the more traffic it is dumping into the 
      network. The wider a link is, the more data is flowing in that 
      particular between those two nodes.</para>

      <para>Color, on the other hand, is used to represent the protocol 
      being used the most by a link or a node. You will find a legend 
      for what a particular color means in the left side of the 
      <interface>main window</interface>.</para>

      <para>Look closely and you will notice that in fact links are not 
      lines between nodes. Rather, every direction of communication is 
      represented by a triangle. Packets go from the shorter side to 
      the opposite vertex. Since computers usally talk back, there will 
      usually be two such triangles between two nodes, the base of each 
      representing how much each node is contributing to the 
      conversation.</para>

      <para>You don&apos;t need to know much more if you just want to 
      have a simple look at your network. Nevertheless, there are many 
      settings that you can use to configure what exactly will appear 
      in the diagram, and you will have to understand how this settings 
      affect the program to have a proper comprehension of the meaning 
      of the display.</para>

      <para>Besides, EtherApe offers you the possibility of displaying 
      stastistics for many of the elements involved. Read on to learn 
      how.</para>
        <figure id="mainwindow-fig">

          <title>EtherApe Main Window</title>

	  <screenshot>
		  <mediaobject>
		  <imageobject>
			  <imagedata fileref="figures/appmain.png" format="PNG"/>
                  </imageobject>
		  <textobject><phrase>Etherape Main Window screenshot</phrase></textobject>
                 </mediaobject>
          </screenshot>
       </figure>


    </sect2>

    <sect2 id="toolbar">

      <title>Toolbar</title>

      <para>

        The toolbar (shown in 
        <xref linkend="figure-usage-toolbar"/>
         ) provides access to several commonly used routines.
        <figure id="figure-usage-toolbar">

          <title>EtherApe Toolbar</title>

          <screenshot>
		  <mediaobject>
		  <imageobject>
			  <imagedata fileref="figures/eth_toolbar.png" format="PNG"/>
                  </imageobject>
		  <textobject><phrase>Etherape toolbar screenshot</phrase></textobject>
                 </mediaobject>
          </screenshot>
        </figure>

        <variablelist>

          <varlistentry>

            <term>Start</term>

            <listitem>

              <para>Starts capturing on the selected live 
              interface.</para>

            </listitem>

          </varlistentry>

          <varlistentry>

            <term>Pause</term>

            <listitem>

              <para>Pauses capture, freezing both the diagram and any 
              detail window.</para>

            </listitem>

          </varlistentry>

          <varlistentry>

            <term>Stop</term>

            <listitem>

              <para>Stops the capture, clearing diagram and all traffic 
              statistics. Closes also all detail windows .</para>

              <warning>
                <para>Everytime a capture is stopped, all statistics 
                gathered up to that time will be deleted from memory. 
                Think about it when you have left EtherApe running for 
                several hours.</para>
              </warning>
            </listitem>
      </varlistentry>
          <varlistentry>

            <term>Preferences</term>
                <listitem>
                  <para>
                     Opens the <xref linkend="etherape-prefs" endterm="pref-ref"/> dialog.
                  </para>
                </listitem>
      </varlistentry>
          <varlistentry>

            <term>Protocols</term>
                <listitem>
                  <para>
                     Opens the <xref linkend="protodlg" endterm="proto-ref" />.
                  </para>
                </listitem>

          </varlistentry>

        </variablelist>

      </para>

    </sect2>

    <sect2 id="menubar">

      <title>Menus</title>

      <para>The menu bar, located at the top of the <interface>Main 
      Window</interface>, contains the following menus:</para>

      <variablelist>

        <varlistentry>

          <term><guimenu>File</guimenu></term>

          <listitem>

            <para>

              This menu contains:
              <itemizedlist>

                <listitem>

                  <para><menuchoice><shortcut>
                  <keycap>Ctrl-O</keycap></shortcut>
                  <guimenuitem>Open</guimenuitem></menuchoice>Open an 
                  external capture file. If you want to capture on a 
                  live interface, see the 
                  <link linkend="capture"><interface>Capture</interface></link> 
                  menu</para>

                </listitem>

                <listitem>

                  <para><menuchoice><guimenuitem>Preferences</guimenuitem></menuchoice>Open 
                  the <xref linkend="etherape-prefs" endterm="pref-ref"/> dialog.</para>

                </listitem>

                <listitem>

                  <para><menuchoice>
                  <guimenuitem>Quit</guimenuitem></menuchoice>  
                  quits the application.</para>

                </listitem>

              </itemizedlist>

            </para>

          </listitem>

        </varlistentry>

        <varlistentry>

          <term id="capture"><guimenu>Capture</guimenu></term>

          <listitem>

            <para>

              This menu contains:
              <itemizedlist>

                <listitem>

                  <para><menuchoice>
                  <guimenuitem>Mode</guimenuitem></menuchoice> opens a 
                  submenu governing the capture mode.</para>

                </listitem>

                <listitem>

                  <para><menuchoice>
                  <guimenuitem>Interfaces</guimenuitem></menuchoice> 
                  opens a submenu to select the capture 
                  interface.</para>

                </listitem>

                <listitem>

                  <para><menuchoice>
                  <guimenuitem>Start</guimenuitem></menuchoice>  
                  begins capturing on the selected live interface.</para>

                </listitem>

                <listitem>

                  <para><menuchoice>
                  <guimenuitem>Pause</guimenuitem></menuchoice> 
                  temporarily halts the capture, freezing both the diagram and any detail 
                  window.</para>

                </listitem>

                <listitem>
                  <para>
                    <menuchoice><guimenuitem>
                    Stop</guimenuitem></menuchoice>
                    terminates the capture, clearing diagram and traffic 
                    statistics. Closes also all detail windows .
                    <warning>
                      <para>Everytime a capture is stopped, all 
                      statistics gathered up to that time will be 
                      deleted from memory. Think about it when you have 
                      left EtherApe running for several hours.</para>
                    </warning>
                  </para>
                </listitem>


              </itemizedlist>

            </para>

          </listitem>

        </varlistentry>

        <varlistentry>

          <term><guimenu>View</guimenu></term>

          <listitem>

            <para>

              This menu contains:
              <itemizedlist>

                <listitem>

                  <para><guimenuitem>Protocols</guimenuitem> opens 
                  the <link linkend="protodlg"><interface>Protocols 
                  dialog</interface></link>, which allows you see 
                  global traffic statistics per protocol.</para>

                </listitem>

                <listitem>

                  <para><guimenuitem>Toolbar</guimenuitem> 
                  toggles the toolbar.</para>

                  <para><guimenuitem>Legend</guimenuitem> 
                  toggles the protocol legend.</para>

                  <para><guimenuitem>Statusbar</guimenuitem> 
                  toggles the Status bar.</para>

                </listitem>

              </itemizedlist>

            </para>

          </listitem>

        </varlistentry>

        <varlistentry>

          <term><guimenu>Help</guimenu></term>

          <listitem>

            <para>

              This menu contains:
              <itemizedlist>

                <listitem>

                  <para><guimenuitem>About</guimenuitem> This opens the 
                  <interface>About</interface> dialog which shows basic 
                  information about <application>
                  EtherApe</application>, such as the author&apos;s 
                  name.</para>

                </listitem>

              </itemizedlist>

            </para>

          </listitem>

        </varlistentry>

      </variablelist>

    </sect2>

  </sect1>

  <sect1 id="protodlg">
  	<title id="proto-ref">Protocol detail dialog</title>
	<para>The protocol detail dialog (<xref
	linkend="figure-proto-dlg"/>) shows global traffic statistics for active (i.e. not expired) protocols.</para>
	<para>Protocol expiration is controlled by the Global Protocol Timeouts preference section</para>
	<note><para>Only those protocols matching the "Protocol Stack Level" preference settings will be displayed.</para></note>

        <figure id="figure-proto-dlg">

          <title>Protocol detail dialog</title>

          <screenshot>
		  <mediaobject>
		  <imageobject>
			  <imagedata fileref="figures/proto_info.png" format="PNG"/>
                  </imageobject>
		  <textobject><phrase>Protocol detail dialog screenshot</phrase></textobject>
                 </mediaobject>
	</screenshot>
        </figure>
  </sect1>

  <sect1 id="etherape-prefs">

    <title id="pref-ref">Settings</title>

    <para>To change the application settings, select 
<menuchoice>
    <guimenu>File</guimenu>
    <guimenuitem>Preferences...</guimenuitem>
</menuchoice>. 
The <guilabel>Preferences</guilabel> dialog contains the following
    tabbed sections:
    </para>


<itemizedlist>

	<listitem>
	<para>
<xref linkend="etherape-prefs-diagram"/>
</para>
</listitem>

	<listitem>
	<para>
<xref linkend="etherape-prefs-colors"/>
</para>
</listitem>

	<listitem>
	<para>
<xref linkend="etherape-prefs-timings"/>
</para>
</listitem>
</itemizedlist>

    <para>After you have made all the changes you want, click on 
    <guibutton>OK</guibutton> to apply the changes and close the 
    <interface>Properties</interface> dialog. To cancel the changes and 
    return to previous values, click the <guibutton>Close</guibutton> 
    button.</para>







    <sect2 id="etherape-prefs-diagram"> 
      <title>Diagram</title> 
<para>The diagram tab contains many settings related to the traffic display.</para>
      <variablelist> 
	<varlistentry> 
	  <term> 
	    <guilabel>Protocol Stack Level</guilabel> </term> 
	  <listitem> 
	    <para>Use this drop-down list box to specify the
	      level of the OSI stack to use when displaying protocols.
	      Select one of the following options:</para>

	    <itemizedlist> 
	      <listitem> 
		<para> 
		  <guilabel>Topmost recognized protocol</guilabel> </para> 
		<para>For every packet, chooses the highest
	      level protocol detected.</para> 
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Level 2 (Eg: ETHII)</guilabel> </para> 
		<para>Shows only OSI level 2 informations. For example
	      ETHII or FDDI</para> 
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Level 3 (Eg: IP)</guilabel> </para> 
		<para>Shows only OSI level 3 protocols, like IP or IPX</para> 
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Level 4 (Eg: TCP)</guilabel> </para> 
		<para>Shows only OSI level 4 protocols, tipically
	      TCP, UDP and ICMP</para> 
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Level 5 (Eg: HTTP)</guilabel> </para> 
		<para>Shows application level protocols, like HTTP,
	      POP3, etc</para> 
	      </listitem> 
	    </itemizedlist> 
	    <para>Default: 
	      <guilabel>Topmost recognized protocol</guilabel>.</para> 
	  </listitem> 
	</varlistentry> 
	<varlistentry> 
	  <term> 
	    <guilabel>Node Size Variable</guilabel> </term> 
	  <listitem> 
	    <para>Use this drop-down list box to specify wich variable
	      governs node and link sizes. Select one of the following options:</para> 
	    <itemizedlist> 
	      <listitem> 
		<para> 
		  <guilabel>Instant. traffic (In+Out)</guilabel> </para> 
		<para>Size depends on the instantaneous traffic on node.</para> 
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Instant. traffic (Inbound)</guilabel> </para> 
		<para>Size depends only on instantenous inbound traffic.</para> 
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Instant. traffic (Outbound)</guilabel> </para> 
		<para>Size depends only on instantaneous outbound traffic.</para> 
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Accum. traffic (In+Out)</guilabel> </para> 
		<para>Size depends on the total traffic accumulated on node.</para> 
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Accum. traffic (Inbound)</guilabel> </para> 
		<para>Size depends only on accumulated inbound traffic.</para> 
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Accum. traffic (Outbound)</guilabel> </para> 
		<para>Size depends only on accumulated outbound traffic.</para> 
	      </listitem> 
	    </itemizedlist> 
	    <para>Default: 
	      <guilabel>Instant. traffic (Outbound)</guilabel>.</para> 
	  </listitem> 
	</varlistentry> 
	<varlistentry> 
	  <term> 
	    <guilabel>Size Mode</guilabel> </term> 
	  <listitem> 
	    <para>Use this drop-down list box to specify how to weight
	      the value of the <guilabel>Node Size Variable</guilabel>.
	      Select one of the following options:</para> 
	    <itemizedlist> 
	      <listitem> 
		<para> 
		  <guilabel>Linear</guilabel></para> 
		<para>Uses directly the input value.</para>
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Logarithmic</guilabel></para> 
		<para>Uses the decimal logarithm of input variable.</para>
	      </listitem> 
	      <listitem> 
		<para> 
		  <guilabel>Quadratic</guilabel></para> 
		<para>Uses the square root of input variable.</para>
	      </listitem> 
	    </itemizedlist> 
	    <para>Default: 
	      <guilabel>Linear</guilabel>.</para> 
	  </listitem> 
	</varlistentry> 
	<varlistentry> 
	  <term> 
	    <guilabel>Node Radius Multiplier</guilabel> </term> 
	  <listitem> 
	    <para>This slider specifies the scaling multiplier to apply to node sizes. 
	    </para>
	  </listitem> 
	</varlistentry> 
	<varlistentry> 
	  <term> 
	    <guilabel>Link Radius Multiplier</guilabel> </term> 
	  <listitem> 
	    <para>This slider specifies the scaling multiplier to apply to link sizes. 
	    </para>
	  </listitem> 
	</varlistentry> 
	<varlistentry> 
	  <term> 
	    <guilabel>Capture filter</guilabel> </term> 
	  <listitem> 
	    <para>This drop-down combo box specifies the capture
	filter to use using the standard pcap syntax.
	    </para>
	    <para>Default: ip</para>
	  </listitem> 
	</varlistentry> 
	<varlistentry> 
	  <term> 
	    <guilabel>Font</guilabel> </term> 
	  <listitem> 
	    <para>Opens the font selection dialog to select the main
	  application font. 
	    </para>
	  </listitem> 
	</varlistentry> 
	<varlistentry> 
	  <term> 
	    <guilabel>Hide node names</guilabel> </term> 
	  <listitem> 
	    <para>If checked, doesn't show the node names. 
	    </para>
	    <para>Default: unchecked.</para>
	  </listitem> 
	</varlistentry> 
	<varlistentry> 
	  <term> 
	    <guilabel>Group unknown ports</guilabel> </term> 
	  <listitem> 
	    <para>If checked, all traffic belonging to ports not
	  specified in the services file is accumulated under
	  "UDP-unknown" and "TCP-unknown". 
	    </para>
	    <para>Default: checked.</para>
	  </listitem> 
	</varlistentry> 	
	<varlistentry> 
	  <term> 
	    <guilabel>Name resolution</guilabel> </term> 
	  <listitem> 
	    <para>If checked, enables name resolution. If unchecked,
	  show only numeric addresses (like the -b command line option).
	    </para>
	    <para>Default:nchecked.</para>
	  </listitem> 
	</varlistentry> 
	<varlistentry> 
	  <term> 
	    <guilabel>Node Anti Aliasing</guilabel> </term> 
	  <listitem> 
	    <para>Enables node antialiasing. On slower computers, it
	  could be unchecked to save a few CPU cycles. 
	    </para>
	    <para>Default: checked.</para>
	  </listitem> 
	</varlistentry> 

      </variablelist> 
        <figure id="figure-pref-diagram">

          <title>Diagram preferences tab</title>

          <screenshot>
		  <mediaobject>
		  <imageobject>
			  <imagedata fileref="figures/pref_diagram_dlg.png" format="PNG"/>
                  </imageobject>
		  <textobject><phrase>Diagram preferences tab screenshot</phrase></textobject>
                 </mediaobject>
	</screenshot>
        </figure>

    </sect2>















  </sect1>

  <sect1 id="bugs">

    <title>Known Bugs and Limitations</title>

    <para>As default, only IP traffic is shown. To see other protocols 
    use ethernet mode (-m ethernet)</para>

    <para>Some libpcap versions have a bug for which a filter 
    &quot;ip&quot; doesn&apos;t capture icmp traffic.</para>

    <para>Most NFS traffic will show up as UDP_FRAGMENT or just 
    RPC</para>

  </sect1>

  <sect1 id="authors">

    <title>Authors</title>

    <para><application>EtherApe</application> was written by Juan 
    Toledo ( <email>toledo@users.sourceforge.net</email>). To find more 
    information about <application>EtherApe</application>, please visit 
    the <ulink url="http://etherape.sourceforge.net" type="http">
    EtherApe Web page</ulink>. Instructions for submitting bug reports 
    can be found <ulink
    url="http://etherape.sourceforge.net/bug-reporting.html"
    type="http">
    on-line</ulink>.</para>

  </sect1>

  <sect1 id="license">

    <title>License</title>

    <para>This program is free software; you can redistribute it and/or 
    modify it under the terms of the <ulink url="gnome-help:gpl"
    type="help">&quot;&gt; <citetitle>GNU General Public 
    License</citetitle></ulink> as published by the Free Software 
    Foundation; either version 2 of the License, or (at your option) 
    any later version.</para>

    <para>This program is distributed in the hope that it will be 
    useful, but WITHOUT ANY WARRANTY; without even the implied warranty 
    of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the 
    <citetitle>GNU General Public License</citetitle> for more 
    details.</para>

    <para>

      A copy of the 
      <citetitle>GNU General Public License</citetitle>
       is included as an appendix to the 
      <citetitle>GNOME Users Guide</citetitle>
       . You may also obtain a copy of the 
      <citetitle>GNU General Public License</citetitle>
       from the Free Software Foundation by visiting 
      <ulink url="http://www.fsf.org" type="http">their Web site</ulink>
       or by writing to
      <address>Free Software Foundation, Inc. <street>59 Temple 
      Place</street> - Suite 330 <city>Boston</city>, <state>MA</state> 
      <postcode>02111-1307</postcode> <country>USA</country></address>

    </para>

  </sect1>

</article>

